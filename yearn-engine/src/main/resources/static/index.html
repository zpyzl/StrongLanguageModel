<!--
  ~ Copyright(c)2018-2020, 赵鹏阳
  ~ 项目名称:Yearn 文件名称:index.html
  ~ Date:2020/1/1 下午9:21
  ~ Author: 赵鹏阳
  -->

<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <base href="<%=basePath%>">


<!--jquery需要引入的文件-->
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js"></script>

<!--ajax提交表单需要引入jquery.form.js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha384-FzT3vTVGXqf7wRfy8k4BiyzvbNfeYjK+frTVqZeNDFl8woCbF0CYG6g2fMEFFo/i" crossorigin="anonymous"></script>

    <!--<script type="text/javascript" src="http://malsup.github.io/jquery.form.js"></script>-->
<script>
        $(function () {
            //给id为ajaxSubmit的按钮提交表单
            $("#ajaxSubmit").on("click",function () {
                //alert(1);
                $("#ajaxForm").ajaxSubmit({
                type: 'post', // 提交方式 get/post
                 url: 'heardInPsychoCounsel', // 需要提交的 url
                    beforeSubmit:function () {
                       // alert("我在提交表单之前被调用！");
                    },
                    success:function (data) {
                        $("#tellResult")[0].innerHTML = data;

                       //alert("我在提交表单成功之后被调用");
                       /* if (typeof(data) == "string"){
                           // data = eval( '('+data+')');
                            //alert(data); object
                             handle(data);
                        }else{
                            handle(data);
                        }*/

                    }
                });
            });
        });
        //处理返回数据
        function handle(data){
            if(data.status == 200){
                alert(data.message);
                //处理逻辑
            }else{
                alert(data.message);
                //处理逻辑
            }
        }
    </script>
</head>
<body>
<form method="post"  id="ajaxForm">
    <h1>Hi, I'm a chatbot.</h1>
    张三: <br>
    <textarea name="sentences" cols="50" rows="10">我一无是处</textarea><br>
    <!--<input type="text" name="age"><br>

    <input type="radio" value="man" name="sex" checked/>  <input type="radio" value="woman" name="sex"/><br/>

    <br><br><br>
    <input type="submit" value="同步提交"/> &nbsp;&nbsp;<input type="reset" value="重置" />-->

    <input type="button" value="Send" id="ajaxSubmit"/>&nbsp;&nbsp;
    <br>
    <br>

    <div id="tellResult" ></div>
</form>

</body>
</html>